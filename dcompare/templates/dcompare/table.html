{% load replace_newline %}

<!DOCTYPE html>
<html lang="en">
<head>
    {% include "dcompare/head_static.html" %}
    <title>Compare</title>
</head>

<body>
{% include "dcompare/diff_modal.html" %}


<div class="container">
    <h1>Parsed Results</h1>

    <div class="row" role="group" arial-label="basic example">
        {#        <button type="button" class="btn btn-secondary">Generate Word Document</button>#}
        <a href="{% url 'compare' %}" role="button" class="btn btn-secondary">Compare Again</a>
    </div>

    <div class="row">
        <table class="table table-bordered table-hover">
            <tr>
                <th></th>
                {# for each file column #}
                {% for f in compare_table.filenames %}
                    <th style="text-align:center">{{ f }}</th>
                {% endfor %}

                {% for section_dict in compare_table.components %}
                    <tr>
                        <td style="text-align: center"
                            colspan="{{ compare_table.filenames|length|add:1 }}">{{ section_dict.bs_name }}</td>
                    </tr>
                    {% for s in section_dict.sections %}
                        <tr>
                            <td>{{ s.section_name }}</td>
                            {% for text in s.section %}
                                <td><p>{{ text|replace_newline|safe }} </p></td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                {% endfor %}
            </tr>

        </table>
    </div>


</div>
{% include "dcompare/tail_static.html" %}

</body>
</html>